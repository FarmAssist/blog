{"ast":null,"code":"import { auth, googleProvider } from \"../Firebase\";\nimport { useCookies } from \"react-cookie\";\nexport var GET_USER = \"get_user\";\nexport var USER_STATUS = \"user_status\";\nexport function getUser() {\n  return function (dispatch) {\n    dispatch({\n      type: USER_STATUS,\n      payload: true\n    });\n    auth.onAuthStateChanged(function (user) {\n      dispatch({\n        type: GET_USER,\n        payload: user\n      });\n      dispatch({\n        type: USER_STATUS,\n        payload: false\n      });\n    });\n  };\n}\nexport function login(email, password) {\n  console.log(email); // Cookies.set(\"username\", username, \"/\");\n  // useCookies(\"username\", username, { path: \"/\" });\n\n  return function (dispatch) {\n    auth.signInWithEmailAndPassword(email, password);\n  };\n}\nexport function logout() {\n  return function (dispatch) {\n    return auth.signOut();\n  };\n}\n/*export function createAccount(email, password, username) {\r\n  return dispatch => {\r\n    auth.createUserWithEmailAndPassword(email, password).then(function(user) {\r\n      dispatch({ type: \"success\" });\r\n      auth.ref(`users/${user.uid}`).set({ name: username });\r\n      console.log(\"uid:\", user.uid);\r\n    });\r\n  };\r\n}*/\n\nexport function createAccount(_ref) {\n  var email = _ref.email,\n      password = _ref.password,\n      username = _ref.username;\n  var db = firebase.database();\n  return function (dispatch) {\n    firebase.auth().createUserWithEmailAndPassword(email, password) // here we get user id if creating is successful.\n    .then(function (user) {\n      dispatch({\n        type: USER_SIGNUP_SUCCESS\n      }); // I dispatched some message.\n\n      db.ref(\"users/\".concat(user.uid)).set({\n        name: username\n      }); // I added user\n\n      console.log(\"uid:\", user.uid);\n    });\n  };\n}","map":{"version":3,"sources":["C:\\Users\\kanto\\OneDrive\\Desktop\\blog\\src\\Actions\\UserActions.jsx"],"names":["auth","googleProvider","useCookies","GET_USER","USER_STATUS","getUser","dispatch","type","payload","onAuthStateChanged","user","login","email","password","console","log","signInWithEmailAndPassword","logout","signOut","createAccount","username","db","firebase","database","createUserWithEmailAndPassword","then","USER_SIGNUP_SUCCESS","ref","uid","set","name"],"mappings":"AAAA,SAASA,IAAT,EAAeC,cAAf,QAAqC,aAArC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;AAEP,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEH,WADC;AAEPI,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAIAR,IAAAA,IAAI,CAACS,kBAAL,CAAwB,UAAAC,IAAI,EAAI;AAC9BJ,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEJ,QADC;AAEPK,QAAAA,OAAO,EAAEE;AAFF,OAAD,CAAR;AAIAJ,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEH,WADC;AAEPI,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID,KATD;AAUD,GAfD;AAgBD;AAED,OAAO,SAASG,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAAgC;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EADqC,CAErC;AACA;;AACA,SAAO,UAAAN,QAAQ,EAAI;AACjBN,IAAAA,IAAI,CAACgB,0BAAL,CAAgCJ,KAAhC,EAAuCC,QAAvC;AACD,GAFD;AAGD;AAED,OAAO,SAASI,MAAT,GAAkB;AACvB,SAAO,UAAAX,QAAQ;AAAA,WAAIN,IAAI,CAACkB,OAAL,EAAJ;AAAA,GAAf;AACD;AAED;;;;;;;;;;AAUA,OAAO,SAASC,aAAT,OAAsD;AAAA,MAA7BP,KAA6B,QAA7BA,KAA6B;AAAA,MAAtBC,QAAsB,QAAtBA,QAAsB;AAAA,MAAZO,QAAY,QAAZA,QAAY;AAC3D,MAAMC,EAAE,GAAGC,QAAQ,CAACC,QAAT,EAAX;AACA,SAAO,UAASjB,QAAT,EAAmB;AACxBgB,IAAAA,QAAQ,CACLtB,IADH,GAEGwB,8BAFH,CAEkCZ,KAFlC,EAEyCC,QAFzC,EAGE;AAHF,KAIGY,IAJH,CAIQ,UAASf,IAAT,EAAe;AACnBJ,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEmB;AAAR,OAAD,CAAR,CADmB,CACsB;;AACzCL,MAAAA,EAAE,CAACM,GAAH,iBAAgBjB,IAAI,CAACkB,GAArB,GAA4BC,GAA5B,CAAgC;AAAEC,QAAAA,IAAI,EAAEV;AAAR,OAAhC,EAFmB,CAEkC;;AACrDN,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBL,IAAI,CAACkB,GAAzB;AACD,KARH;AASD,GAVD;AAWD","sourcesContent":["import { auth, googleProvider } from \"../Firebase\";\r\nimport { useCookies } from \"react-cookie\";\r\nexport const GET_USER = \"get_user\";\r\nexport const USER_STATUS = \"user_status\";\r\n\r\nexport function getUser() {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: USER_STATUS,\r\n      payload: true\r\n    });\r\n    auth.onAuthStateChanged(user => {\r\n      dispatch({\r\n        type: GET_USER,\r\n        payload: user\r\n      });\r\n      dispatch({\r\n        type: USER_STATUS,\r\n        payload: false\r\n      });\r\n    });\r\n  };\r\n}\r\n\r\nexport function login(email, password) {\r\n  console.log(email);\r\n  // Cookies.set(\"username\", username, \"/\");\r\n  // useCookies(\"username\", username, { path: \"/\" });\r\n  return dispatch => {\r\n    auth.signInWithEmailAndPassword(email, password);\r\n  };\r\n}\r\n\r\nexport function logout() {\r\n  return dispatch => auth.signOut();\r\n}\r\n\r\n/*export function createAccount(email, password, username) {\r\n  return dispatch => {\r\n    auth.createUserWithEmailAndPassword(email, password).then(function(user) {\r\n      dispatch({ type: \"success\" });\r\n      auth.ref(`users/${user.uid}`).set({ name: username });\r\n      console.log(\"uid:\", user.uid);\r\n    });\r\n  };\r\n}*/\r\n\r\nexport function createAccount({ email, password, username }) {\r\n  const db = firebase.database();\r\n  return function(dispatch) {\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      // here we get user id if creating is successful.\r\n      .then(function(user) {\r\n        dispatch({ type: USER_SIGNUP_SUCCESS }); // I dispatched some message.\r\n        db.ref(`users/${user.uid}`).set({ name: username }); // I added user\r\n        console.log(\"uid:\", user.uid);\r\n      });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}