{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\kanto\\\\OneDrive\\\\Desktop\\\\blog\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { users } from \"../Firebase\";\nexport var FETCH_USER_PROFILE = \"fetch_userprofile\";\nexport var POST_PROFILE = \"post_profile\";\nexport function getPosts() {\n  return function (dispatch) {\n    dispatch({\n      type: POST_PROFILE,\n      payload: true\n    });\n    users.on(\"value\", function (snapshot) {\n      dispatch({\n        type: FETCH_USERPROFILE,\n        payload: snapshot.val()\n      });\n      dispatch({\n        type: POST_PROFILE,\n        payload: false\n      });\n    }, function () {\n      dispatch({\n        type: POST_PROFILE,\n        payload: -1\n      });\n    });\n  };\n}\nexport function saveUser(profile, uid) {\n  return function (dispatch) {\n    return users.push(_objectSpread({}, profile, {\n      uid: uid\n    }));\n  };\n}\n/*export function deletePost(id) {\r\n  return dispatch => database.child(id).remove();\r\n}\r\n\r\nexport function saveComment(comment, id, uid) {\r\n  return dispatch =>\r\n    database\r\n      .child(id)\r\n      .child(\"comments\")\r\n      .push({\r\n        username: comment.username,\r\n\r\n        content: comment.content,\r\n        uid\r\n      });\r\n}\r\nexport function deleteComment(postId, commentId) {\r\n  return dispatch =>\r\n    database\r\n      .child(postId)\r\n      .child(\"comments\")\r\n      .child(commentId)\r\n      .remove();\r\n}\r\n*/","map":{"version":3,"sources":["C:\\Users\\kanto\\OneDrive\\Desktop\\blog\\src\\Actions\\UserProfile.jsx"],"names":["users","FETCH_USER_PROFILE","POST_PROFILE","getPosts","dispatch","type","payload","on","snapshot","FETCH_USERPROFILE","val","saveUser","profile","uid","push"],"mappings":";AAAA,SAASA,KAAT,QAAsB,aAAtB;AACA,OAAO,IAAMC,kBAAkB,GAAG,mBAA3B;AACP,OAAO,IAAMC,YAAY,GAAG,cAArB;AAEP,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEH,YADC;AAEPI,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAIAN,IAAAA,KAAK,CAACO,EAAN,CACE,OADF,EAEE,UAAAC,QAAQ,EAAI;AACVJ,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEI,iBADC;AAEPH,QAAAA,OAAO,EAAEE,QAAQ,CAACE,GAAT;AAFF,OAAD,CAAR;AAIAN,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEH,YADC;AAEPI,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID,KAXH,EAYE,YAAM;AACJF,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEH,YADC;AAEPI,QAAAA,OAAO,EAAE,CAAC;AAFH,OAAD,CAAR;AAID,KAjBH;AAmBD,GAxBD;AAyBD;AAED,OAAO,SAASK,QAAT,CAAkBC,OAAlB,EAA2BC,GAA3B,EAAgC;AACrC,SAAO,UAAAT,QAAQ;AAAA,WAAIJ,KAAK,CAACc,IAAN,mBAAgBF,OAAhB;AAAyBC,MAAAA,GAAG,EAAHA;AAAzB,OAAJ;AAAA,GAAf;AACD;AAED","sourcesContent":["import { users } from \"../Firebase\";\r\nexport const FETCH_USER_PROFILE = \"fetch_userprofile\";\r\nexport const POST_PROFILE = \"post_profile\";\r\n\r\nexport function getPosts() {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: POST_PROFILE,\r\n      payload: true\r\n    });\r\n    users.on(\r\n      \"value\",\r\n      snapshot => {\r\n        dispatch({\r\n          type: FETCH_USERPROFILE,\r\n          payload: snapshot.val()\r\n        });\r\n        dispatch({\r\n          type: POST_PROFILE,\r\n          payload: false\r\n        });\r\n      },\r\n      () => {\r\n        dispatch({\r\n          type: POST_PROFILE,\r\n          payload: -1\r\n        });\r\n      }\r\n    );\r\n  };\r\n}\r\n\r\nexport function saveUser(profile, uid) {\r\n  return dispatch => users.push({ ...profile, uid });\r\n}\r\n\r\n/*export function deletePost(id) {\r\n  return dispatch => database.child(id).remove();\r\n}\r\n\r\nexport function saveComment(comment, id, uid) {\r\n  return dispatch =>\r\n    database\r\n      .child(id)\r\n      .child(\"comments\")\r\n      .push({\r\n        username: comment.username,\r\n\r\n        content: comment.content,\r\n        uid\r\n      });\r\n}\r\nexport function deleteComment(postId, commentId) {\r\n  return dispatch =>\r\n    database\r\n      .child(postId)\r\n      .child(\"comments\")\r\n      .child(commentId)\r\n      .remove();\r\n}\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}